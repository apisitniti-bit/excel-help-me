(()=>{var e={};e.id=24,e.ids=[24],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5604:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.Z,__next_app__:()=>u,originalPathname:()=>d,pages:()=>o,routeModule:()=>m,tree:()=>c}),t(8114),t(2029),t(7629),t(2523);var a=t(3191),l=t(8716),r=t(3315),n=t(5231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(s,i);let c=["",{children:["sql-generator",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8114)),"C:\\Users\\Ong\\excel-help-me\\src\\app\\sql-generator\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"C:\\Users\\Ong\\excel-help-me\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"C:\\Users\\Ong\\excel-help-me\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,2523)),"C:\\Users\\Ong\\excel-help-me\\src\\app\\not-found.tsx"]}],o=["C:\\Users\\Ong\\excel-help-me\\src\\app\\sql-generator\\page.tsx"],d="/sql-generator/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/sql-generator/page",pathname:"/sql-generator",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4142:(e,s,t)=>{Promise.resolve().then(t.bind(t,4422))},4422:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>L});var a=t(326),l=t(7577),r=t.n(l),n=t(2881);let i=(0,n.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),c=(0,n.Z)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var o=t(4230),d=t(6333),u=t(9604),m=t(7972);let x=(0,n.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),h=(0,n.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var p=t(1223);function g({statements:e,className:s}){let[t,r]=(0,l.useState)(!1),[n,i]=(0,l.useState)(100),c=e.slice(0,n),o=n<e.length,d=async()=>{try{await navigator.clipboard.writeText(e.join("\n")),r(!0),setTimeout(()=>r(!1),2e3)}catch{let s=document.createElement("textarea");s.value=e.join("\n"),document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),r(!0),setTimeout(()=>r(!1),2e3)}};return 0===e.length?a.jsx("div",{className:"flex items-center justify-center rounded-lg border bg-muted/30 p-8 text-muted-foreground",children:"No SQL statements generated"}):(0,a.jsxs)("div",{className:(0,p.cn)("overflow-hidden rounded-lg border",s),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b bg-slate-900 px-4 py-2",children:[(0,a.jsxs)("span",{className:"text-xs font-medium text-slate-400",children:["SQL Preview — ",e.length," statement",1!==e.length?"s":""]}),a.jsx("button",{onClick:d,className:"inline-flex items-center gap-1.5 rounded-md px-2 py-1 text-xs text-slate-400 hover:bg-slate-800 hover:text-slate-200 transition-colors",children:t?(0,a.jsxs)(a.Fragment,{children:[a.jsx(x,{className:"h-3.5 w-3.5"}),"Copied"]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(h,{className:"h-3.5 w-3.5"}),"Copy All"]})})]}),(0,a.jsxs)("div",{className:"max-h-[480px] overflow-auto bg-slate-950 p-0",children:[a.jsx("table",{className:"w-full border-collapse",children:a.jsx("tbody",{children:c.map((e,s)=>(0,a.jsxs)("tr",{className:"hover:bg-slate-900/80",children:[a.jsx("td",{className:"select-none border-r border-slate-800 px-3 py-0.5 text-right text-xs text-slate-600 w-12",children:s+1}),a.jsx("td",{className:"px-3 py-0.5",children:a.jsx("code",{className:"text-xs text-emerald-400 break-all whitespace-pre-wrap font-mono",children:e})})]},s))})}),o&&a.jsx("div",{className:"border-t border-slate-800 px-4 py-2 text-center",children:(0,a.jsxs)("button",{onClick:()=>i(e=>e+100),className:"text-xs font-medium text-primary hover:underline",children:["Show more (",e.length-n," remaining)"]})})]})]})}let f=(0,n.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var j=t(3261);function v({duplicates:e,emptyPKRows:s}){return 0===e.length&&0===s.length?null:(0,a.jsxs)("div",{className:"space-y-3",children:[e.length>0&&(0,a.jsxs)(j.bZ,{variant:"destructive",children:[a.jsx(f,{className:"h-4 w-4"}),a.jsx(j.Cd,{children:"Duplicate Primary Keys Detected"}),(0,a.jsxs)(j.X,{children:[a.jsx("p",{className:"mb-2",children:"Export is blocked. Fix the following duplicates in your Excel file:"}),a.jsx("div",{className:"max-h-40 overflow-auto rounded bg-destructive/10 p-2 text-xs font-mono",children:e.map((e,s)=>(0,a.jsxs)("div",{className:"py-0.5",children:[(0,a.jsxs)("span",{className:"font-semibold",children:['"',e.value,'"']})," — rows ",e.rows.join(", ")]},s))})]})]}),s.length>0&&(0,a.jsxs)(j.bZ,{variant:"warning",children:[a.jsx(f,{className:"h-4 w-4"}),a.jsx(j.Cd,{children:"Empty Primary Key Values"}),(0,a.jsxs)(j.X,{children:[a.jsx("p",{className:"mb-1",children:"Export is blocked. The following rows have empty primary key values:"}),(0,a.jsxs)("p",{className:"text-xs font-mono",children:["Rows: ",s.join(", ")]})]})]})]})}let b=(0,n.Z)("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),y=(0,n.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var N=t(1664),w=t(4542);function C({onExportSql:e,onExportXlsx:s,disabled:t,fileNameBase:l="export"}){return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[e&&(0,a.jsxs)(N.z,{onClick:()=>{if(!e)return;let s=new Blob(["\uFEFF"+e()],{type:"text/plain;charset=utf-8"});(0,w.saveAs)(s,`${l}.sql`)},disabled:t,variant:"default",className:"gap-2",children:[a.jsx(b,{className:"h-4 w-4"}),"Export .sql"]}),s&&(0,a.jsxs)(N.z,{onClick:()=>{if(!s)return;let e=s();(0,w.saveAs)(e,`${l}.xlsx`)},disabled:t,variant:"outline",className:"gap-2",children:[a.jsx(y,{className:"h-4 w-4"}),"Export .xlsx"]})]})}let k=l.forwardRef(({className:e,type:s,...t},l)=>a.jsx("input",{type:s,className:(0,p.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...t}));k.displayName="Input";var S=t(4794),E=t(9280),P=t(8443),$=t(9752);let _=l.createContext({value:"",onValueChange:()=>{}});function D({value:e,onValueChange:s,children:t,className:l}){return a.jsx(_.Provider,{value:{value:e,onValueChange:s},children:a.jsx("div",{className:(0,p.cn)("w-full",l),children:t})})}function M({children:e,className:s}){return a.jsx("div",{className:(0,p.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),children:e})}function T({value:e,children:s,className:t}){let r=l.useContext(_),n=r.value===e;return a.jsx("button",{type:"button",onClick:()=>r.onValueChange(e),className:(0,p.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",t),children:s})}function A({value:e,children:s,className:t}){return l.useContext(_).value!==e?null:a.jsx("div",{className:(0,p.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),children:s})}var q=t(8638);function I(e,s){if(null==e)return s?"NULL":"''";let t=String(e);return""===t&&s?"NULL":`'${t.replace(/\0/g,"").replace(/'/g,"''")}'`}function R(e){return/^[a-z_][a-z0-9_]*$/.test(e)?e:`"${e.replace(/"/g,'""')}"`}function U(e,s,t,a){if(e.length>=s)return{type:"prefix_too_long",message:`Prefix length (${e.length}) must be less than total ID length (${s}).`};let l=s-e.length,r=Math.pow(10,l)-1;return t+a-1>r?{type:"overflow",message:`Cannot generate ${a} IDs starting from ${t}. Maximum value for ${l} digits is ${r}.`}:null}function Z(e,s,t,a){let l=U(e,s,t,a);if(l)throw Error(l.message);let r=s-e.length,n=[],i=new Set;for(let s=0;s<a;s++){let a=e+String(t+s).padStart(r,"0");if(i.has(a))throw Error(`Duplicate ID generated: ${a}`);i.add(a),n.push(a)}return n}function O(e){let s=function(e){let s=new Map;for(let t=0;t<e.length;t++){let a=String(e[t]).trim(),l=s.get(a);l?l.push(t+2):s.set(a,[t+2])}let t=[];return s.forEach((e,s)=>{e.length>1&&t.push({value:s,rows:e})}),{hasDuplicates:t.length>0,duplicates:t}}(e),t=function(e){let s=[];for(let t=0;t<e.length;t++){let a=String(e[t]??"").trim();(""===a||"undefined"===a||"null"===a)&&s.push(t+2)}return{hasEmpty:s.length>0,emptyRows:s}}(e);return{hasDuplicates:s.hasDuplicates,duplicates:s.duplicates,hasEmptyPKs:t.hasEmpty,emptyPKRows:t.emptyRows}}function L(){let[e,s]=(0,l.useState)(null),[t,n]=(0,l.useState)([]),[x,h]=(0,l.useState)(""),[p,f]=(0,l.useState)(null),[b,y]=(0,l.useState)("upload"),[w,_]=(0,l.useState)(null),[L,F]=(0,l.useState)(!1),[K,V]=(0,l.useState)("insert"),[z,G]=(0,l.useState)(""),[H,X]=(0,l.useState)(0),[Q,Y]=(0,l.useState)("generate"),[B,W]=(0,l.useState)(""),[J,ee]=(0,l.useState)(14),[es,et]=(0,l.useState)(1),[ea,el]=(0,l.useState)(!1),[er,en]=(0,l.useState)(!1),[ei,ec]=(0,l.useState)(""),[eo,ed]=(0,l.useState)(0),[eu,em]=(0,l.useState)([]),[ex,eh]=(0,l.useState)([]),[ep,eg]=(0,l.useState)({hasDuplicates:!1,duplicates:[],hasEmptyPKs:!1,emptyPKRows:[]}),[ef,ej]=(0,l.useState)(null),[ev,eb]=(0,l.useState)(null),[ey,eN]=(0,l.useState)({}),ew=(0,l.useCallback)(async e=>{_(null),F(!0);try{let t=await (0,q.e_)(e),a=(0,q.cE)(t),l={};for(let e of a)l[e]=(0,q.$O)(t,e);s(e),eb(t),n(a),eN(l);let r=a[0];h(r),f(l[r]),y("configure")}catch(e){_(e instanceof Error?e.message:"Failed to read file.")}finally{F(!1)}},[]),eC=(0,l.useCallback)(()=>{s(null),n([]),h(""),f(null),y("upload"),_(null),eh([]),eb(null),eN({})},[]),ek=(0,l.useCallback)(e=>{let s=ey[e];s&&(h(e),f(s),em([]))},[ey]),eS=(0,l.useMemo)(()=>t.map(e=>({value:e,label:`${e} (${ey[e]?.data.length??0} rows)`})),[t,ey]),eE=(0,l.useMemo)(()=>p?p.headers.map((e,s)=>({value:String(s),label:`${(0,q.eb)(s)} — ${e}`})):[],[p]),eP=e=>{em(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},e$=(0,l.useMemo)(()=>!!p&&0!==p.data.length&&("insert"===K?!!z.trim()&&("generate"!==Q||!!B||!(J<=0)):!!ei.trim()&&0!==eu.length),[p,K,z,ei,eu,Q,B,J]),e_=(0,l.useCallback)(()=>{if(!p)return;ej(null);let e=p.data,s=p.headers;if("insert"===K){let t;let a=[];if("generate"===Q){let s=U(B,J,es,e.length);if(s){ej(s.message);return}try{(t=Z(B,J,es,e.length)).forEach(e=>a.push(e))}catch(e){ej(e instanceof Error?e.message:"ID generation failed.");return}}else e.forEach(e=>{a.push(String(e[H]??"").trim())});eg(O(a)),eh(function(e,s,t,a){let l=R(e.tableName),r=[];for(let n=0;n<t.length;n++){let i=t[n],c=[];for(let t=0;t<s.length;t++)t===e.pkColumn&&"generate"===e.idMode&&a?c.push(I(a[n],!1)):c.push(I(i[t],e.treatEmptyAsNull));if(e.includeColumnNames){let e=s.map(e=>R(e)).join(", ");r.push(`INSERT INTO ${l} (${e}) VALUES (${c.join(", ")});`)}else r.push(`INSERT INTO ${l} VALUES (${c.join(", ")});`)}return r}({tableName:z,pkColumn:H,idMode:Q,idPrefix:B,idTotalLength:J,idStartNumber:es,includeColumnNames:ea,treatEmptyAsNull:er},s,e,t)),y("preview")}else{eg(O(e.map(e=>String(e[eo]??"").trim())));let t=eu.filter(e=>e!==eo);eh(function(e,s,t){let a=R(e.tableName),l=R(s[e.pkColumn]),r=[];for(let n=0;n<t.length;n++){let i=t[n],c=I(i[e.pkColumn],!1),o=[];for(let t of e.setColumns){if(t===e.pkColumn)continue;let a=R(s[t]),l=I(i[t],e.treatEmptyAsNull);o.push(`${a} = ${l}`)}0!==o.length&&r.push(`UPDATE ${a} SET ${o.join(", ")} WHERE ${l} = ${c};`)}return r}({tableName:ei,pkColumn:eo,setColumns:t,treatEmptyAsNull:er},s,e)),y("preview")}},[p,K,z,H,Q,B,J,es,ea,er,ei,eo,eu]),eD=ep.hasDuplicates||ep.hasEmptyPKs,eM=(0,l.useCallback)(()=>ex.join("\n"),[ex]),eT=(0,l.useCallback)(()=>{if(!p)return new Blob;if("insert"===K&&"generate"===Q){let e=Z(B,J,es,p.data.length),s=p.data.map((s,t)=>{let a=[...s];return a[H]=e[t],a});return(0,q.AO)(p.headers,s)}return(0,q.AO)(p.headers,p.data)},[p,K,Q,B,J,es,H]),eA=(0,l.useMemo)(()=>{let e=new Map;if(ep.hasDuplicates)for(let s of ep.duplicates)for(let t of s.rows)e.set(t-2,{type:"duplicate"});if(ep.hasEmptyPKs)for(let s of ep.emptyPKRows)e.set(s-2,{type:"empty-pk"});return e},[ep]);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"SQL Generator"}),a.jsx("p",{className:"text-muted-foreground",children:"Generate PostgreSQL INSERT & UPDATE statements from Excel data"})]}),a.jsx("div",{className:"flex items-center gap-2 text-sm",children:["upload","configure","preview"].map((s,t)=>(0,a.jsxs)(r().Fragment,{children:[t>0&&a.jsx("div",{className:"h-px w-6 bg-border"}),(0,a.jsxs)("button",{onClick:()=>{"upload"!==s&&("configure"===s&&e&&y("configure"),"preview"===s&&ex.length>0&&y("preview"))},className:`rounded-full px-3 py-1 font-medium capitalize transition-colors ${b===s?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"}`,children:[t+1,". ",s]})]},s))}),w&&(0,a.jsxs)(j.bZ,{variant:"destructive",children:[a.jsx(j.Cd,{children:"Error"}),a.jsx(j.X,{children:w})]}),"upload"===b&&(0,a.jsxs)($.Zb,{children:[a.jsx($.Ol,{children:a.jsx($.ll,{children:"Upload Excel File"})}),(0,a.jsxs)($.aY,{children:[a.jsx(u.b,{onFileSelect:ew,currentFile:e,onClear:eC,disabled:L}),L&&a.jsx("p",{className:"mt-3 text-sm text-muted-foreground animate-pulse",children:"Reading file..."})]})]}),"configure"===b&&p&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)($.Zb,{children:[a.jsx($.Ol,{children:a.jsx($.ll,{className:"text-lg",children:"File & Sheet"})}),(0,a.jsxs)($.aY,{className:"space-y-4",children:[a.jsx(u.b,{onFileSelect:ew,currentFile:e,onClear:eC}),t.length>1&&(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(S._,{children:"Active Sheet"}),a.jsx(E.P,{value:x,onValueChange:ek,options:eS})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(P.C,{variant:"secondary",children:[p.headers.length," columns"]}),(0,a.jsxs)(P.C,{variant:"secondary",children:[p.data.length," data rows"]})]})]})]}),(0,a.jsxs)($.Zb,{children:[a.jsx($.Ol,{children:a.jsx($.ll,{className:"text-lg",children:"Data Preview"})}),a.jsx($.aY,{children:a.jsx(m.r,{headers:p.headers,data:p.data,maxRows:20})})]}),(0,a.jsxs)(D,{value:K,onValueChange:e=>V(e),children:[(0,a.jsxs)(M,{className:"w-full justify-start",children:[(0,a.jsxs)(T,{value:"insert",className:"gap-2",children:[a.jsx(i,{className:"h-4 w-4"}),"INSERT"]}),(0,a.jsxs)(T,{value:"update",className:"gap-2",children:[a.jsx(c,{className:"h-4 w-4"}),"UPDATE"]})]}),a.jsx(A,{value:"insert",children:(0,a.jsxs)($.Zb,{children:[a.jsx($.Ol,{children:a.jsx($.ll,{className:"text-lg",children:"INSERT Configuration"})}),(0,a.jsxs)($.aY,{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(S._,{children:"Table Name"}),a.jsx(k,{value:z,onChange:e=>G(e.target.value),placeholder:"e.g. items"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(S._,{children:"Primary Key Column"}),a.jsx(E.P,{value:String(H),onValueChange:e=>X(Number(e)),options:eE})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx(S._,{children:"Primary Key Mode"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>Y("generate"),className:`flex-1 rounded-lg border p-3 text-left text-sm transition-colors ${"generate"===Q?"border-primary bg-primary/5 font-medium":"hover:bg-muted"}`,children:[a.jsx("div",{className:"font-medium",children:"Generate new IDs"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Auto-generate sequential IDs with a prefix"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>Y("existing"),className:`flex-1 rounded-lg border p-3 text-left text-sm transition-colors ${"existing"===Q?"border-primary bg-primary/5 font-medium":"hover:bg-muted"}`,children:[a.jsx("div",{className:"font-medium",children:"Use IDs from Excel"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Use existing values in the PK column"})]})]})]}),"generate"===Q&&(0,a.jsxs)("div",{className:"rounded-lg border bg-muted/30 p-4 space-y-4",children:[a.jsx("p",{className:"text-sm font-medium",children:"ID Generation Settings"}),(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(S._,{className:"text-xs",children:"Prefix"}),a.jsx(k,{value:B,onChange:e=>W(e.target.value),placeholder:"e.g. 14520000"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(S._,{className:"text-xs",children:"Total ID Length"}),a.jsx(k,{type:"number",value:J,onChange:e=>ee(Number(e.target.value)),min:1})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(S._,{className:"text-xs",children:"Starting Number"}),a.jsx(k,{type:"number",value:es,onChange:e=>et(Number(e.target.value)),min:0})]})]}),B&&J>B.length&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Preview: ",(0,a.jsxs)("code",{className:"rounded bg-muted px-1 font-mono",children:[B,String(es).padStart(J-B.length,"0")]})," → ",(0,a.jsxs)("code",{className:"rounded bg-muted px-1 font-mono",children:[B,String(es+Math.max(0,(p?.data.length??1)-1)).padStart(J-B.length,"0")]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:ea,onChange:e=>el(e.target.checked),className:"rounded border-input"}),"Include column names in INSERT"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:er,onChange:e=>en(e.target.checked),className:"rounded border-input"}),"Treat empty cells as NULL"]})]})]})]})}),a.jsx(A,{value:"update",children:(0,a.jsxs)($.Zb,{children:[a.jsx($.Ol,{children:a.jsx($.ll,{className:"text-lg",children:"UPDATE Configuration"})}),(0,a.jsxs)($.aY,{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(S._,{children:"Table Name"}),a.jsx(k,{value:ei,onChange:e=>ec(e.target.value),placeholder:"e.g. items"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(S._,{children:"Primary Key Column (WHERE clause)"}),a.jsx(E.P,{value:String(eo),onValueChange:e=>ed(Number(e)),options:eE})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(S._,{children:"Columns to SET (click to toggle)"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:p.headers.map((e,s)=>{if(s===eo)return null;let t=eu.includes(s);return(0,a.jsxs)("button",{type:"button",onClick:()=>eP(s),className:`rounded-md border px-3 py-1.5 text-sm transition-colors ${t?"border-primary bg-primary/10 font-medium text-primary":"hover:bg-muted"}`,children:[(0,q.eb)(s),": ",e]},s)})}),eu.length>0&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[eu.length," column",1!==eu.length?"s":""," selected"]})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:er,onChange:e=>en(e.target.checked),className:"rounded border-input"}),"Treat empty cells as NULL"]})]})]})})]}),ef&&(0,a.jsxs)(j.bZ,{variant:"destructive",children:[a.jsx(j.Cd,{children:"ID Generation Error"}),a.jsx(j.X,{children:ef})]}),a.jsx("div",{className:"flex justify-end",children:(0,a.jsxs)(N.z,{onClick:e_,disabled:!e$,className:"gap-2",children:["Generate SQL",a.jsx(o.Z,{className:"h-4 w-4"})]})})]}),"preview"===b&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(N.z,{variant:"outline",size:"sm",onClick:()=>y("configure"),className:"gap-1",children:[a.jsx(d.Z,{className:"h-4 w-4"}),"Back"]}),(0,a.jsxs)(P.C,{variant:"secondary",children:[K.toUpperCase()," — ",ex.length," statements"]})]}),a.jsx(v,{duplicates:ep.duplicates,emptyPKRows:ep.emptyPKRows}),p&&a.jsx(m.r,{headers:p.headers,data:p.data,rowHighlights:eA,maxRows:50}),a.jsx(g,{statements:ex}),a.jsx("div",{className:"flex justify-end",children:a.jsx(C,{onExportSql:eM,onExportXlsx:eT,disabled:eD,fileNameBase:`${K}_${"insert"===K?z:ei}_${Date.now()}`})})]})]})}},8114:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\Ong\excel-help-me\src\app\sql-generator\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[11,707,213],()=>t(5604));module.exports=a})();