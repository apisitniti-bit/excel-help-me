(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[24],{9997:function(e,t,s){Promise.resolve().then(s.bind(s,2484))},2484:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return U}});var a=s(7437),l=s(2265),n=s(9205);let r=(0,n.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),i=(0,n.Z)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var c=s(6858),o=s(2660),d=s(4913),u=s(1833);let m=(0,n.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),h=(0,n.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var x=s(3448);function p(e){let{statements:t,className:s}=e,[n,r]=(0,l.useState)(!1),[i,c]=(0,l.useState)(100),o=t.slice(0,i),d=i<t.length,u=async()=>{try{await navigator.clipboard.writeText(t.join("\n")),r(!0),setTimeout(()=>r(!1),2e3)}catch(s){let e=document.createElement("textarea");e.value=t.join("\n"),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),r(!0),setTimeout(()=>r(!1),2e3)}};return 0===t.length?(0,a.jsx)("div",{className:"flex items-center justify-center rounded-lg border bg-muted/30 p-8 text-muted-foreground",children:"No SQL statements generated"}):(0,a.jsxs)("div",{className:(0,x.cn)("overflow-hidden rounded-lg border",s),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b bg-slate-900 px-4 py-2",children:[(0,a.jsxs)("span",{className:"text-xs font-medium text-slate-400",children:["SQL Preview — ",t.length," statement",1!==t.length?"s":""]}),(0,a.jsx)("button",{onClick:u,className:"inline-flex items-center gap-1.5 rounded-md px-2 py-1 text-xs text-slate-400 hover:bg-slate-800 hover:text-slate-200 transition-colors",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{className:"h-3.5 w-3.5"}),"Copied"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{className:"h-3.5 w-3.5"}),"Copy All"]})})]}),(0,a.jsxs)("div",{className:"max-h-[480px] overflow-auto bg-slate-950 p-0",children:[(0,a.jsx)("table",{className:"w-full border-collapse",children:(0,a.jsx)("tbody",{children:o.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-slate-900/80",children:[(0,a.jsx)("td",{className:"select-none border-r border-slate-800 px-3 py-0.5 text-right text-xs text-slate-600 w-12",children:t+1}),(0,a.jsx)("td",{className:"px-3 py-0.5",children:(0,a.jsx)("code",{className:"text-xs text-emerald-400 break-all whitespace-pre-wrap font-mono",children:e})})]},t))})}),d&&(0,a.jsx)("div",{className:"border-t border-slate-800 px-4 py-2 text-center",children:(0,a.jsxs)("button",{onClick:()=>c(e=>e+100),className:"text-xs font-medium text-primary hover:underline",children:["Show more (",t.length-i," remaining)"]})})]})]})}let g=(0,n.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var f=s(5937);function j(e){let{duplicates:t,emptyPKRows:s}=e;return 0===t.length&&0===s.length?null:(0,a.jsxs)("div",{className:"space-y-3",children:[t.length>0&&(0,a.jsxs)(f.bZ,{variant:"destructive",children:[(0,a.jsx)(g,{className:"h-4 w-4"}),(0,a.jsx)(f.Cd,{children:"Duplicate Primary Keys Detected"}),(0,a.jsxs)(f.X,{children:[(0,a.jsx)("p",{className:"mb-2",children:"Export is blocked. Fix the following duplicates in your Excel file:"}),(0,a.jsx)("div",{className:"max-h-40 overflow-auto rounded bg-destructive/10 p-2 text-xs font-mono",children:t.map((e,t)=>(0,a.jsxs)("div",{className:"py-0.5",children:[(0,a.jsxs)("span",{className:"font-semibold",children:['"',e.value,'"']})," — rows ",e.rows.join(", ")]},t))})]})]}),s.length>0&&(0,a.jsxs)(f.bZ,{variant:"warning",children:[(0,a.jsx)(g,{className:"h-4 w-4"}),(0,a.jsx)(f.Cd,{children:"Empty Primary Key Values"}),(0,a.jsxs)(f.X,{children:[(0,a.jsx)("p",{className:"mb-1",children:"Export is blocked. The following rows have empty primary key values:"}),(0,a.jsxs)("p",{className:"text-xs font-mono",children:["Rows: ",s.join(", ")]})]})]})]})}let v=(0,n.Z)("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),b=(0,n.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var y=s(2381),N=s(12);function w(e){let{onExportSql:t,onExportXlsx:s,disabled:l,fileNameBase:n="export"}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[t&&(0,a.jsxs)(y.z,{onClick:()=>{if(!t)return;let e=new Blob(["\uFEFF"+t()],{type:"text/plain;charset=utf-8"});(0,N.saveAs)(e,"".concat(n,".sql"))},disabled:l,variant:"default",className:"gap-2",children:[(0,a.jsx)(v,{className:"h-4 w-4"}),"Export .sql"]}),s&&(0,a.jsxs)(y.z,{onClick:()=>{if(!s)return;let e=s();(0,N.saveAs)(e,"".concat(n,".xlsx"))},disabled:l,variant:"outline",className:"gap-2",children:[(0,a.jsx)(b,{className:"h-4 w-4"}),"Export .xlsx"]})]})}let k=l.forwardRef((e,t)=>{let{className:s,type:l,...n}=e;return(0,a.jsx)("input",{type:l,className:(0,x.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});k.displayName="Input";var C=s(5060),S=s(5291),E=s(9174),P=s(9820);let D=l.createContext({value:"",onValueChange:()=>{}});function T(e){let{value:t,onValueChange:s,children:l,className:n}=e;return(0,a.jsx)(D.Provider,{value:{value:t,onValueChange:s},children:(0,a.jsx)("div",{className:(0,x.cn)("w-full",n),children:l})})}function M(e){let{children:t,className:s}=e;return(0,a.jsx)("div",{className:(0,x.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),children:t})}function _(e){let{value:t,children:s,className:n}=e,r=l.useContext(D),i=r.value===t;return(0,a.jsx)("button",{type:"button",onClick:()=>r.onValueChange(t),className:(0,x.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",i?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",n),children:s})}function I(e){let{value:t,children:s,className:n}=e;return l.useContext(D).value!==t?null:(0,a.jsx)("div",{className:(0,x.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),children:s})}var A=s(5830);function R(e,t){if(null==e)return t?"NULL":"''";let s=String(e);return""===s&&t?"NULL":"'".concat(s.replace(/\0/g,"").replace(/'/g,"''"),"'")}function Z(e){return/^[a-z_][a-z0-9_]*$/.test(e)?e:'"'.concat(e.replace(/"/g,'""'),'"')}function L(e,t,s,a){if(e.length>=t)return{type:"prefix_too_long",message:"Prefix length (".concat(e.length,") must be less than total ID length (").concat(t,").")};let l=t-e.length,n=Math.pow(10,l)-1;return s+a-1>n?{type:"overflow",message:"Cannot generate ".concat(a," IDs starting from ").concat(s,". Maximum value for ").concat(l," digits is ").concat(n,".")}:null}function F(e,t,s,a){let l=L(e,t,s,a);if(l)throw Error(l.message);let n=t-e.length,r=[],i=new Set;for(let t=0;t<a;t++){let a=e+String(s+t).padStart(n,"0");if(i.has(a))throw Error("Duplicate ID generated: ".concat(a));i.add(a),r.push(a)}return r}function K(e){let t=function(e){let t=new Map;for(let s=0;s<e.length;s++){let a=String(e[s]).trim(),l=t.get(a);l?l.push(s+2):t.set(a,[s+2])}let s=[];return t.forEach((e,t)=>{e.length>1&&s.push({value:t,rows:e})}),{hasDuplicates:s.length>0,duplicates:s}}(e),s=function(e){let t=[];for(let a=0;a<e.length;a++){var s;let l=String(null!==(s=e[a])&&void 0!==s?s:"").trim();(""===l||"undefined"===l||"null"===l)&&t.push(a+2)}return{hasEmpty:t.length>0,emptyRows:t}}(e);return{hasDuplicates:t.hasDuplicates,duplicates:t.duplicates,hasEmptyPKs:s.hasEmpty,emptyPKRows:s.emptyRows}}function U(){var e;let[t,s]=(0,l.useState)(null),[n,m]=(0,l.useState)([]),[h,x]=(0,l.useState)(""),[g,v]=(0,l.useState)(null),[b,N]=(0,l.useState)("upload"),[D,U]=(0,l.useState)(null),[V,z]=(0,l.useState)(!1),[O,q]=(0,l.useState)("insert"),[G,H]=(0,l.useState)(""),[Q,X]=(0,l.useState)(0),[Y,B]=(0,l.useState)("generate"),[W,$]=(0,l.useState)(""),[J,ee]=(0,l.useState)(14),[et,es]=(0,l.useState)(1),[ea,el]=(0,l.useState)(!1),[en,er]=(0,l.useState)(!1),[ei,ec]=(0,l.useState)(""),[eo,ed]=(0,l.useState)(0),[eu,em]=(0,l.useState)([]),[eh,ex]=(0,l.useState)([]),[ep,eg]=(0,l.useState)({hasDuplicates:!1,duplicates:[],hasEmptyPKs:!1,emptyPKRows:[]}),[ef,ej]=(0,l.useState)(null),[ev,eb]=(0,l.useState)(null),[ey,eN]=(0,l.useState)({}),ew=(0,l.useCallback)(async e=>{U(null),z(!0);try{let t=await (0,A.e_)(e),a=(0,A.cE)(t),l={};for(let e of a)l[e]=(0,A.$O)(t,e);s(e),eb(t),m(a),eN(l);let n=a[0];x(n),v(l[n]),N("configure")}catch(e){U(e instanceof Error?e.message:"Failed to read file.")}finally{z(!1)}},[]),ek=(0,l.useCallback)(()=>{s(null),m([]),x(""),v(null),N("upload"),U(null),ex([]),eb(null),eN({})},[]),eC=(0,l.useCallback)(e=>{let t=ey[e];t&&(x(e),v(t),em([]))},[ey]),eS=(0,l.useMemo)(()=>n.map(e=>{var t,s;return{value:e,label:"".concat(e," (").concat(null!==(s=null===(t=ey[e])||void 0===t?void 0:t.data.length)&&void 0!==s?s:0," rows)")}}),[n,ey]),eE=(0,l.useMemo)(()=>g?g.headers.map((e,t)=>({value:String(t),label:"".concat((0,A.eb)(t)," — ").concat(e)})):[],[g]),eP=e=>{em(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},eD=(0,l.useMemo)(()=>!!g&&0!==g.data.length&&("insert"===O?!!G.trim()&&("generate"!==Y||!!W||!(J<=0)):!!ei.trim()&&0!==eu.length),[g,O,G,ei,eu,Y,W,J]),eT=(0,l.useCallback)(()=>{if(!g)return;ej(null);let e=g.data,t=g.headers;if("insert"===O){let s;let a=[];if("generate"===Y){let t=L(W,J,et,e.length);if(t){ej(t.message);return}try{(s=F(W,J,et,e.length)).forEach(e=>a.push(e))}catch(e){ej(e instanceof Error?e.message:"ID generation failed.");return}}else e.forEach(e=>{var t;a.push(String(null!==(t=e[Q])&&void 0!==t?t:"").trim())});eg(K(a)),ex(function(e,t,s,a){let l=Z(e.tableName),n=[];for(let r=0;r<s.length;r++){let i=s[r],c=[];for(let s=0;s<t.length;s++)s===e.pkColumn&&"generate"===e.idMode&&a?c.push("'".concat(a[r],"'")):c.push(R(i[s],e.treatEmptyAsNull));if(e.includeColumnNames){let e=t.map(e=>Z(e)).join(", ");n.push("INSERT INTO ".concat(l," (").concat(e,") VALUES (").concat(c.join(", "),");"))}else n.push("INSERT INTO ".concat(l," VALUES (").concat(c.join(", "),");"))}return n}({tableName:G,pkColumn:Q,idMode:Y,idPrefix:W,idTotalLength:J,idStartNumber:et,includeColumnNames:ea,treatEmptyAsNull:en},t,e,s)),N("preview")}else{eg(K(e.map(e=>{var t;return String(null!==(t=e[eo])&&void 0!==t?t:"").trim()})));let s=eu.filter(e=>e!==eo);ex(function(e,t,s){let a=Z(e.tableName),l=Z(t[e.pkColumn]),n=[];for(let r=0;r<s.length;r++){let i=s[r],c=R(i[e.pkColumn],!1),o=[];for(let s of e.setColumns){if(s===e.pkColumn)continue;let a=Z(t[s]),l=R(i[s],e.treatEmptyAsNull);o.push("".concat(a," = ").concat(l))}0!==o.length&&n.push("UPDATE ".concat(a," SET ").concat(o.join(", ")," WHERE ").concat(l," = ").concat(c,";"))}return n}({tableName:ei,pkColumn:eo,setColumns:s,treatEmptyAsNull:en},t,e)),N("preview")}},[g,O,G,Q,Y,W,J,et,ea,en,ei,eo,eu]),eM=ep.hasDuplicates||ep.hasEmptyPKs,e_=(0,l.useCallback)(()=>eh.join("\n"),[eh]),eI=(0,l.useCallback)(()=>{if(!g)return new Blob;if("insert"===O&&"generate"===Y){let e=F(W,J,et,g.data.length),t=g.data.map((t,s)=>{let a=[...t];return a[Q]=e[s],a});return(0,A.AO)(g.headers,t)}return(0,A.AO)(g.headers,g.data)},[g,O,Y,W,J,et,Q]),eA=(0,l.useMemo)(()=>{let e=new Map;if(ep.hasDuplicates)for(let t of ep.duplicates)for(let s of t.rows)e.set(s-2,{type:"duplicate"});if(ep.hasEmptyPKs)for(let t of ep.emptyPKRows)e.set(t-2,{type:"empty-pk"});return e},[ep]);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"SQL Generator"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Generate PostgreSQL INSERT & UPDATE statements from Excel data"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm",children:["upload","configure","preview"].map((e,s)=>(0,a.jsxs)(l.Fragment,{children:[s>0&&(0,a.jsx)("div",{className:"h-px w-6 bg-border"}),(0,a.jsxs)("button",{onClick:()=>{"upload"!==e&&("configure"===e&&t&&N("configure"),"preview"===e&&eh.length>0&&N("preview"))},className:"rounded-full px-3 py-1 font-medium capitalize transition-colors ".concat(b===e?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[s+1,". ",e]})]},e))}),D&&(0,a.jsxs)(f.bZ,{variant:"destructive",children:[(0,a.jsx)(f.Cd,{children:"Error"}),(0,a.jsx)(f.X,{children:D})]}),"upload"===b&&(0,a.jsxs)(P.Zb,{children:[(0,a.jsx)(P.Ol,{children:(0,a.jsx)(P.ll,{children:"Upload Excel File"})}),(0,a.jsxs)(P.aY,{children:[(0,a.jsx)(d.b,{onFileSelect:ew,currentFile:t,onClear:ek,disabled:V}),V&&(0,a.jsx)("p",{className:"mt-3 text-sm text-muted-foreground animate-pulse",children:"Reading file..."})]})]}),"configure"===b&&g&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(P.Zb,{children:[(0,a.jsx)(P.Ol,{children:(0,a.jsx)(P.ll,{className:"text-lg",children:"File & Sheet"})}),(0,a.jsxs)(P.aY,{className:"space-y-4",children:[(0,a.jsx)(d.b,{onFileSelect:ew,currentFile:t,onClear:ek}),n.length>1&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{children:"Active Sheet"}),(0,a.jsx)(S.P,{value:h,onValueChange:eC,options:eS})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(E.C,{variant:"secondary",children:[g.headers.length," columns"]}),(0,a.jsxs)(E.C,{variant:"secondary",children:[g.data.length," data rows"]})]})]})]}),(0,a.jsxs)(P.Zb,{children:[(0,a.jsx)(P.Ol,{children:(0,a.jsx)(P.ll,{className:"text-lg",children:"Data Preview"})}),(0,a.jsx)(P.aY,{children:(0,a.jsx)(u.r,{headers:g.headers,data:g.data,maxRows:20})})]}),(0,a.jsxs)(T,{value:O,onValueChange:e=>q(e),children:[(0,a.jsxs)(M,{className:"w-full justify-start",children:[(0,a.jsxs)(_,{value:"insert",className:"gap-2",children:[(0,a.jsx)(r,{className:"h-4 w-4"}),"INSERT"]}),(0,a.jsxs)(_,{value:"update",className:"gap-2",children:[(0,a.jsx)(i,{className:"h-4 w-4"}),"UPDATE"]})]}),(0,a.jsx)(I,{value:"insert",children:(0,a.jsxs)(P.Zb,{children:[(0,a.jsx)(P.Ol,{children:(0,a.jsx)(P.ll,{className:"text-lg",children:"INSERT Configuration"})}),(0,a.jsxs)(P.aY,{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{children:"Table Name"}),(0,a.jsx)(k,{value:G,onChange:e=>H(e.target.value),placeholder:"e.g. items"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{children:"Primary Key Column"}),(0,a.jsx)(S.P,{value:String(Q),onValueChange:e=>X(Number(e)),options:eE})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(C._,{children:"Primary Key Mode"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>B("generate"),className:"flex-1 rounded-lg border p-3 text-left text-sm transition-colors ".concat("generate"===Y?"border-primary bg-primary/5 font-medium":"hover:bg-muted"),children:[(0,a.jsx)("div",{className:"font-medium",children:"Generate new IDs"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Auto-generate sequential IDs with a prefix"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>B("existing"),className:"flex-1 rounded-lg border p-3 text-left text-sm transition-colors ".concat("existing"===Y?"border-primary bg-primary/5 font-medium":"hover:bg-muted"),children:[(0,a.jsx)("div",{className:"font-medium",children:"Use IDs from Excel"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Use existing values in the PK column"})]})]})]}),"generate"===Y&&(0,a.jsxs)("div",{className:"rounded-lg border bg-muted/30 p-4 space-y-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"ID Generation Settings"}),(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{className:"text-xs",children:"Prefix"}),(0,a.jsx)(k,{value:W,onChange:e=>$(e.target.value),placeholder:"e.g. 14520000"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{className:"text-xs",children:"Total ID Length"}),(0,a.jsx)(k,{type:"number",value:J,onChange:e=>ee(Number(e.target.value)),min:1})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{className:"text-xs",children:"Starting Number"}),(0,a.jsx)(k,{type:"number",value:et,onChange:e=>es(Number(e.target.value)),min:0})]})]}),W&&J>W.length&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Preview: ",(0,a.jsxs)("code",{className:"rounded bg-muted px-1 font-mono",children:[W,String(et).padStart(J-W.length,"0")]})," → ",(0,a.jsxs)("code",{className:"rounded bg-muted px-1 font-mono",children:[W,String(et+Math.max(0,(null!==(e=null==g?void 0:g.data.length)&&void 0!==e?e:1)-1)).padStart(J-W.length,"0")]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:ea,onChange:e=>el(e.target.checked),className:"rounded border-input"}),"Include column names in INSERT"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:en,onChange:e=>er(e.target.checked),className:"rounded border-input"}),"Treat empty cells as NULL"]})]})]})]})}),(0,a.jsx)(I,{value:"update",children:(0,a.jsxs)(P.Zb,{children:[(0,a.jsx)(P.Ol,{children:(0,a.jsx)(P.ll,{className:"text-lg",children:"UPDATE Configuration"})}),(0,a.jsxs)(P.aY,{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{children:"Table Name"}),(0,a.jsx)(k,{value:ei,onChange:e=>ec(e.target.value),placeholder:"e.g. items"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{children:"Primary Key Column (WHERE clause)"}),(0,a.jsx)(S.P,{value:String(eo),onValueChange:e=>ed(Number(e)),options:eE})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{children:"Columns to SET (click to toggle)"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:g.headers.map((e,t)=>{if(t===eo)return null;let s=eu.includes(t);return(0,a.jsxs)("button",{type:"button",onClick:()=>eP(t),className:"rounded-md border px-3 py-1.5 text-sm transition-colors ".concat(s?"border-primary bg-primary/10 font-medium text-primary":"hover:bg-muted"),children:[(0,A.eb)(t),": ",e]},t)})}),eu.length>0&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[eu.length," column",1!==eu.length?"s":""," selected"]})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:en,onChange:e=>er(e.target.checked),className:"rounded border-input"}),"Treat empty cells as NULL"]})]})]})})]}),ef&&(0,a.jsxs)(f.bZ,{variant:"destructive",children:[(0,a.jsx)(f.Cd,{children:"ID Generation Error"}),(0,a.jsx)(f.X,{children:ef})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(y.z,{onClick:eT,disabled:!eD,className:"gap-2",children:["Generate SQL",(0,a.jsx)(c.Z,{className:"h-4 w-4"})]})})]}),"preview"===b&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(y.z,{variant:"outline",size:"sm",onClick:()=>N("configure"),className:"gap-1",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),"Back"]}),(0,a.jsxs)(E.C,{variant:"secondary",children:[O.toUpperCase()," — ",eh.length," statements"]})]}),(0,a.jsx)(j,{duplicates:ep.duplicates,emptyPKRows:ep.emptyPKRows}),g&&(0,a.jsx)(u.r,{headers:g.headers,data:g.data,rowHighlights:eA,maxRows:50}),(0,a.jsx)(p,{statements:eh}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(w,{onExportSql:e_,onExportXlsx:eI,disabled:eM,fileNameBase:"".concat(O,"_").concat("insert"===O?G:ei,"_").concat(Date.now())})})]})]})}}},function(e){e.O(0,[425,230,188,971,117,744],function(){return e(e.s=9997)}),_N_E=e.O()}]);